# predicto_api
Python library for Predicto API.

Predicto generates daily forecasts and Trade Picks for a number of stocks.

Powered by intelligible Deep Learning models, based on News & Options Data.

More info at [https://predic.to](https://predic.to)

## Usage

Start by installing required packages

```
pip install -r predicto_api/requirements.txt
```

To use predicto_api wrapper, you'll need a valid account at https://predic.to, and an `api_key` that you can find in your https://predic.to/account page.

```python
from predicto_api_wrapper import PredictoApiWrapper

# retrieve api_key from your https://predic.to/account page
api_key = 'xxxxxxxxxxxxxxxxxxxxxxxxxxxxx'

# prepare our predicto api wrapper
predicto_api_wrapper = PredictoApiWrapper(api_key)
```

## Using Predicto to retrieve stock forecasts and trade picks
For detailed usage, check the [predicto_api_example_usage.ipynb](Notebooks/predicto_api_example_usage.ipynb) in the `Notebooks` folder.

```python
import pandas as pd

# get suppported tickers for which daily forecasts are available
tickers_json = predicto_api_wrapper.get_supported_tickers()
tickers_df = pd.DataFrame(tickers_json)

# define the ticker and date we are interested in (use yesterday's date to get latest)
ticker = 'TSLA'
date = '2020-11-28'

# get forecast dataframe
forecast_json = predicto_api_wrapper.get_forecast(ticker, date)
forecast_df = pd.read_json(forecast_json, orient='index')

# get trade pick based on that forecast (entry, exit, stop-loss price)
trade_pick_json = predicto_api_wrapper.get_trade_pick(ticker, date)
```

## Using Predicto to get Nasdaq Outlook Score
Nasdaq Outlook Score gives you a stock market feeling with a 15-days ahead horizon.
It is based on aggregated forecasting statistics from Nasdaq related generated trades by our Deep Learning models.
For detailed usage, check the [predicto_api_nasdaq_outlook_score.ipynb](Notebooks/predicto_api_nasdaq_outlook_score.ipynb) in the `Notebooks` folder.

```python
# get latest Predicto Nasdaq Outlook Score
outlook_json = predicto_api_wrapper.get_nasdaq_outlook_score(None)
```

```
{
        'OutlookScore': 0.5,
        'GoingDownMean': -0.012874223009800387,
        'GoingDownTotal': 8,
        'GoingUpMean': 0.010137644742666858,
        'GoingUpTotal': 20
}
```

## Using Predicto with Alpaca to setup daily AutoTrader
Make sure you understand the risks if you are using real money!
We recommend that you start by experimenting with an Alpaca Paper acccount.

```python
from predicto_api_wrapper import PredictoApiWrapper, TradeAction, TradeOrderType
from alpaca_api_wrapper import AlpacaApiWrapper

# initialize alpaca api wrapper
alpaca_api_endpoint = 'https://paper-api.alpaca.markets' # use paper money endpoint for now (test env)
alpaca_api_key_id = 'xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx'
alpaca_api_secret_key = 'xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx'

alpaca_wrapper = AlpacaApiWrapper(alpaca_api_endpoint, alpaca_api_key_id, alpaca_api_secret_key)

# initialize predicto api wrapper
predicto_api_key = 'xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx'
predicto_api_wrapper = PredictoApiWrapper(predicto_api_key)
predicto_api_wrapper.set_alpaca_api_wrapper(alpaca_wrapper)

# Option 1:
#   Execute Predicto AutoTrader
#   You can schedule this script to run daily just after market open (9.31am E.T.).
#   It will submit last day's Trade Picks matching your criteria.
#   Note: Make sure you understand the risks if you are using real money!
predicto_api_wrapper.submit_latest_trade_picks(
        abs_change_pct_threshold = 0.02,
        actions = [int(TradeAction.Buy), int(TradeAction.Sell)],
        average_uncertainty = 0.15,
        model_avg_roi = 0.0,
        symbols = None,
        investment_per_trade=1000,
        trade_order_type=TradeOrderType.Bracket)

# Option 2:
#   Execute Predicto AutoTrader using "My Picks" as you picked them in Predicto website!
#   Manually pick them every night at https://predic.to/autotrader
#   You can schedule this script to run daily just after market open (9.31am E.T.)
#   It will submit last day's "My Picks"
#   Note: Make sure you understand the risks if you are using real money!
predicto_api_wrapper.submit_my_latest_trade_picks(
        investment_per_trade=1000,
        trade_order_type=TradeOrderType.Bracket)
```

## AutoTrader daily script

Sample AutoTrader using Predicto Forecasts with Alpaca can be found in [autotrader_daily.py](samples/autotrader_daily.py) or [autotrader_my_picks_daily.py](samples/autotrader_my_picks_daily.py) in the `samples` folder.

## Jupyter Notebook For Predicto API interactions

For detailed usage of PredictoApiWrapper, check the [predicto_api_example_usage.ipynb](Notebooks/predicto_api_example_usage.ipynb) in the `Notebooks` folder.

## Jupyter Notebook for AutoTrader using Alpaca API

You can use latest Forecasts and Trade Picks generated by Predicto with Alpaca API. To see how, check the [predicto_autotrader_example.ipynb](Notebooks/predicto_autotrader_example.ipynb) in the `Notebooks` folder.

More info on Alpaca API and for documentation, check https://alpaca.markets/.

## More info

For more information on how our Deep Learning forecasts are generated, follow us on https://medium.com/@thepredicto

## Disclaimer

Please read our disclaimer carefully: https://predic.to/disclaimer
